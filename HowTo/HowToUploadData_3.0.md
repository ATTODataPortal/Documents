
# Introduction on how to create and upload data in the ATTO Data Portal

#

Authors: Juliana Menger, Marcus Guderle

Contact ATTO Data Management Team: <attodbm@bgc-jena.mpg.de>


## Table of content

[1. Create a dataset](#1-create-a-dataset)

[2. Select an existing data structure](#2-select-an-existing-data-structure)

[3. Upload data](#3-upload-data)
- [3.1 Upload primary data](#33-upload-primary-data)
- [3.2 Add attachments to datasets](#37-add-attachments-to-datasets)


[4. Metadata form](#4-metadata-form)

- [4.1 Use help informations](#41-use-help-informations)
- [4.2 Validate metadata](#42-validate-metadata)

[Appendix](#appendix)
<br>

## 1. Create a dataset
<p align="justify">
The “Create” field, which is used to generate a dataset, is located in the second position in the top menu. (Figure 1):
</p>
<br>


![](https://github.com/ATTODataPortal/Documents/blob/aa23b79c4fc65acf03dd551d01db2834c724ebcd/images_upload_3.0/Create_1.png?raw=true)*Figure 1: Overview of "Create" menu for creating a dataset*
<br>
<p align="justify">
Click on “Create” to open a page with two templates to choose from. If primary data are to be uploaded as a structured dataset, the “Data” template needs to be selected. 
If files are to be uploaded to the data portal, select the “File” template.

It is advisable to always upload tabular data as a structured dataset, as this offers several advantages for the end user. Among other things, the variable and the respective values can be viewed. Furthermore, when downloading the dataset, information about the respective data structure, the metadata, if already published, the citation as a BibTex file and the metadata as an .xml file are also provided. 

In addition, the primary data can be selected and the respective selection can be downloaded using the download function in the “Data” tap.  
</p>

<p align="justify">
After selecting the respective template, you will be asked for the title and a description of the dataset (Figure 2). Both fields must be filled in to create the new dataset. 
The title of the respective data set should contain clear information about the content of the dataset and the year in which the primary data was collected. 
The description is the same as the abstract of the dataset. Both information is then automatically transferred to the metadata form and can be revised again at a later stage.
</p>
<br>


![](https://github.com/ATTODataPortal/Documents/blob/16d3ef3dd03d747df72c5f3e0010354bd1e0e432/images_upload_3.0/Create_2.png?raw=true)*Figure 2: Input mask for title and description for the dataset to be created.*
<br>

<p align="justify">
Once both fields have been completed, the dataset can be generated by clicking on the green plus sign located in the bottom right corner. Afterwards, the general editing page of the dataset appears (Figure 3). From here, there are various ways to continue working: 

- [Select an existing data structure](#2-select-an-existing-data-structure)
- [Upload data](#3-upload-data)
- [Edit the metadata](#3-metadata-form)
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/16d3ef3dd03d747df72c5f3e0010354bd1e0e432/images_upload_3.0/Create_3.png?raw=true)*Figure 3: Editing page of a newly generated dataset.*
<br>
<br>

## 2. Select an existing data structure
<p align="justify">
Data structures contain all variables, which are part of the dataset to be uploaded. Prior to uploading a dataset, the data structure has to be defined in order to have a template for the upload process. Defined data structures can be used and should be used multiple times for long term data. This prevents that the same variable is defined several times with different names and units (e.g. time in seconds and in Universal time). This is essential to enable an extensive and consistent data management as well as exact search results. It is possible to create data structures for tabular (structured) data such as Excel tables, CSV-Files, text-files etc..
</p>
<p align="justify">
In the editing mode of the dataset, it can be created in the drop-down menu “Data Structure” before an upload. Furthermore,  it can be created from an uploaded file. These options should only be used by the data management team. 
We recommend that you select an existing data structure. Please send a request for a data structure including the header of your dataset with a clear description and the unit of each variable to the data management team (attodbm@bgc-jena.mpg.de). After the data management team has created the data structure, you will be informed of its name so that you can select it from the drop-down menu (Figure 4).
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/c924719a5f00b9a754f90a941127427d7e14fa46/images_upload_3.0/SelectDataStructure_1.png?raw=true)*Figure 4: Drop-down menu for selecting respectively generating a data structure.*
<br>
<br>

## 3 Upload data

### 3.1 Upload primary data
<p align="justify">
After selecting the respective data structure for the data set to be uploaded, you can import the primary data from a .csv, .xls, .txt or other data types in the next step. To do this, please use the “File Upload” section on the general editing page. Here, the file can either be selected from a directory by clicking into the field or simply dragg and dropp the respective file into the field (Figure 5).
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/70666dd871648a1f987b904bb1a7a23f27495c09/images_upload_3.0/UploadFile_2.png?raw=true)*Figure 5: File upload and Validation menu.*
<br>
<p align="justify">
Figure 5 also shows the validation section. The green taps show the steps successfully completed for the upload. The taps highlighted in red show what still needs to be processed.
</p>
<p align="justify">
In this example, the assignment of the file reader information such as the separator between the respective data columns, the decimal separator, the definition of text in the file and the assignment of where variables, units and data can be found in the file is still missing. To activate this, click on “File Reader Information” in the “File Upload” section. The corresponding file for which the assignments are to be made can then be selected. This is the file that was previously added using drag'n'drop, for example (Figure 6).
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/UploadFile_3.png?raw=true)*Figure 6: Start to modify file reader information.*
<br>

<p align="justify">
The interface opens where the file reader information can be edited (Figure 7). In the top bar, the column separator, the decimal separator, the text marker and the encoding can be changed. If one of the respective definitions is changed, you can see what has changed in the primary data display below. Normally, the system recognizes the respective definitions automatically.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/Create_12_dataStructure.png?raw=true)*Figure 7: Modify file reader information.*
<br>

<p align="justify">
In the second bar from the top you can see the color coding of the individual elements that the primary data should contain: Variables, Unit, Description of variables, Missing values and Data (Figure 8). The next step is to define the respective lines in the primary data. In our example, the variables are defined in the first row in the table below. To do this, click on the ">" sign in the left-hand column and the row will be highlighted in dark gray. Then click on the red button with "Variable" at the top and the first row in the table will turn red. Do the same for the rows in which the units and the variable description can be found. To define the values of the data, all you need to do is select the first row of values and confirm by clicking on the green "Data" button. All other lines with data values are automatically recognized by the system.
The missing values can still be defined in the bar. Some use "na" or "NA" or "-9999". Please enter this here accordingly.
<br>
<br>
Once all elements have been defined, they can be saved by clicking on the green save button in the right-hand area above the data table. You will then be redirected back to the editing page.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/Create_13_dataStructure.png?raw=true)*Figure 8: Define Variables, units, description and data in the uploaded primary data file.*
<br>

<p align="justify">
On the editing page in the “Validation” area, the taps should now all be green (Figure 9). If this is not the case, you will need to correct this at the appropriate point. 
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/Create_17_dataStructure.png?raw=true)*Figure 9: Finished validation of file upload process.*
<br>

<p align="justify">
 If everything is now green, the data record can be finally uploaded in the “Submit” area using the green Submit button (Figur 9). You will then be asked again for confirmation, which can be done by clicking on “Confirm” (Figure 10). 
</p>
<br>


![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/Create_18_dataUpload.png?raw=true)*Figure 10: Submission of primary data.*
<br>


![](https://github.com/ATTODataPortal/Documents/blob/9a01ff5b448fffd8d55f93958489725e2bc0c424/images_upload_3.0/Create_19_dataUpload.png?raw=true)*Figure 11: Confirmation window of the data import.*
<br>


<br>


### 3.2 Add attachments to datasets

<p align="justify">
In certain cases it is helpful and advisable to add additional information (descriptions as word document, text file, excel file) or a source code or images to the respective data set. This can be done on the editing page in the lower section in the “Attachments” area (Figure 12). The respective file or several files can be attached by clicking in the field or via drag'n'drop. Corresponding instructions can also be found in the “Attachments” field.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/510d7e5335b1eadb96fd0277d907db073552a89b/images_upload_3.0/Attachments_1.png?raw=true)*Figure 12: "Attachments"-section in the general editing page of a dataset* 
<br>

<p align="justify">
Once the file has been added, the corresponding file name is displayed in the left-hand area. To the right of this is a free text field to add a description of the respective attachment (Figure 13). If a file is successfully added as an attachment, it appears in the overview. Each individual attachment is assigned an ID. The file name, file type and file size are also listed (Figure 14). While moving the mouse pointer over the information icon, the previously entered description of the attachment is displayed. You can also add more than one attachment to one dataset.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/510d7e5335b1eadb96fd0277d907db073552a89b/images_upload_3.0/Attachments_3.png?raw=true)*Figure 13: "Attachments"-tab with uploaded file*
<br>


![](https://github.com/ATTODataPortal/Documents/blob/510d7e5335b1eadb96fd0277d907db073552a89b/images_upload_3.0/Attachments_4.png?raw=true)*Figure 14: "Attachments"-section with description field*
<br>

<p align="justify">
The attachments of a data set can be downloaded by clicking on the respective file name.
 </p>
<br>



## 4 Metadata form

<p align="justify">
The following section introduces the updated metadata schema for datasets following the DataCite schema.

To access the metadata form, click on the small orange pencil icon right next to “Metadata” at the top of the general editing page (Figure 15).
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/b4b4077fe35e63e7eddba7531e37971b7817da4d/images_upload_3.0/Create_3.png?raw=true)*Figure 15: General editing page directing to the metadata form*
<br>
<br>

The metadata structure contains seven main sections (Figure 16):

- Identification: Basic information on the data like citation, title, abstract, identifier URL etc.
- Data Accessibility: Information if the dataset was used for student theses and the type of license under which the dataset is published.
- Funding: Information about the funder of the project and the respective award number and title.
- Creators: Information about the contact person and the authors of the dataset. The contact persons is the person with knowledge of how to access, troubleshoot, or otherwise field issues related to the resource. Authors are the main researchers involved in producing the data, or the authors of the dataset, in priority order.
- Temporal Coverage: Information about the start and end date of the respective data collection.
- Geographical Coverage: Spatial region or named place where the data were gathered.
Methods: Information about field sampling and data preparation as well as identifiers of other related resources, such as articles and other datasets.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/b4b4077fe35e63e7eddba7531e37971b7817da4d/images_upload_3.0/Create_22_metadata.png?raw=true)*Figure 16: Metadata form with seven main sections*

<p align="justify">
Some fields are a free-text field, which have to be filled in by the data creator. Others have drop-down menus or an autocomplete function which helps to fill in the form swiftly.
</p>
<br>

> `Note:` Completely filled metadata are essential for finding datasets within the ATTO data portal and allows an easy publishing process through the Max Planck Digital Library (MPDL) and Datacite.
<br>
<br>

<p align="justify">
Table 1 in the Appendix gives an overview and explanation of each variable of the metadata form. You also get this information by the information icon to the right of the respective fields. There is also an information icon at the top right of the metadata form. When this is clicked, the information for each field is displayed (Figure 16 & 17). All fields marked with a red asterisks * are mandatory for a valid metadata form.
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/b4b4077fe35e63e7eddba7531e37971b7817da4d/images_upload_3.0/Create_8_metadata.png?raw=true)*Figure 17: Information text for each metadata field*  
<br>

<p align="justify">
After you complete the form, you can validate (see Figure 18) the entries and the system will give you further information in case any entries are wrong or whether more entries are required (Figure 19).
</p>
<br>

![](https://github.com/ATTODataPortal/Documents/blob/b4b4077fe35e63e7eddba7531e37971b7817da4d/images_upload_3.0/Create_5_metadata.png?raw=true)*Figure 18: Validation button at the bottom left of the metadata form*
<br>
<br>
![](https://github.com/ATTODataPortal/Documents/blob/b4b4077fe35e63e7eddba7531e37971b7817da4d/images_upload_3.0/Create_6_metadata.png?raw=true)*Figure 19: Validation information if metadata are NOT valid*

When you completed and validated the metadata form, please click “Save” (bottom right of the metadata form, see Figure 18) in order to save the entries. If there are metadata entries missing, the window shown in Figure 19 will pop up. In this case it is recommended that you click on “Cancel” to fill in the missing. However, while clicking on the “OK” button, the metadata form will be saved and you have the possibility to edit the form at a later point of time – even after primary data are already uploaded.
</p>
<br>

> `Note:` After a dataset is published with an assigned DOI, do not change any part of the dataset. Please contact the data management team (attodbm@bgc-jena.mpg.de) for help.
<br>
<br>


### Appendix

<p align="justify">
Table 1: Overview of metadata variables. These information are also available by hovering the mouse pointer over the respective variable name left side of the text boxes and the green header of the subsections. All fields marked with an asterisks * are mandatory for a valid metadata form.
</p>
<br>
<br>

| Variable name                           | Description                          | Type of text box                          |
| --------------------------------------- |------------------------------------| -----------------------------------------|
| Dataset Level Metadata                  |                                      |                                           |
| Title*                                  | Title of the dataset to be uploaded to the ATTO data portal.      |   Free text entry |
| Abstract* | A brief overview of the resource to be uploaded to the ATTO data portal. The abstract should include basic information that summarizes the dataset. Example: Dataset provides information about water temperature collected in Lake Candia.      |    Free text entry |
| Data Of Phd Thesis* | Was the dataset collected as part of a doctoral thesis? If so, data users are obliged to consider the special regulations in the data policy regarding PhD data. | Checkbox |
| Keywords | Provide a set of related keywords describing the content of the dataset. Please separate the keywords with commas (e.g. flux, CO2, tower). | Free text entry |
| Identifier Type | **Applies only for data sets, which will be published via MPDL.** A persistent identifier that identifies a dataset, assigned by the MPDL for this dataset. Currently, only DOI is possible. | Dropdown menu |
| Identifier Value | **Applies only for data sets, which will be published via MPDL.** Please insert the DOI assigned by the MPDL. e.g. 10.17871/atto_xxxx | Free text entry |
| Publisher | **Applies only for datasets, which will be published via MPDL.** The name of the entity that holds, archives, publishes the dataset. In the case of datasets, "publish" is understood to mean making the data available to the community of researchers. **In the case of the ATTO project, Publisher will be the Max Planck Institute for Biogeochemistry, Jena due to the requirements of the MPDL.** | Dropdown menu |
| Contributor | **Applies only for datasets, which will be published via MPDL.** The institution responsible for collecting, managing, distributing, publishing or otherwise contributing to the development of the resource. **Contributor will be the Instituto Nacional de Pesquisas da Amazônia, Manaus due to the requirements of the MPDL.** | Dropdown menu |
| Publication Year | **Applies only for datasets, which will be published via MPDL.** Year when the data is made publicly available. If an embargo period has been in effect, use the date when the embargo period ends. Format: **YYYY** | Free text entry |
| Data Classification | Principal classification of the data to be uploaded to the ATTO data portal. E.g. Observational, Experimental, Simulation, Derived, Metadata, Other | Dropdown menu |
| Resource Type | The type of the dataset to be uploaded to the ATTO data portal. E.g. Audiovisual, Collection | Dropdown menu |
| Format | Technical format of the original resource. Use file extension or MIME type where possible. E.g. jpg, png?raw=true, xlsx, csv, dat etc. | Free text entry |
| Version | Version number of the resource/dataset. If the primary resource has changed the version number increases. Register a new identifier for a major version change. Individual stewards need to determine which are major vs. minor versions. | Free text entry |
| Data Creator(s)* | The main researchers involved working on the data, uploading the data to the data portal or the authors of the publication in priority order. May be a corporate/ institutional or personal name. | One or more persons can be selected via the + button on the right side. |
| Data Owner(s)* | Person(s) who own this dataset. Mostly these are the PIs of the project. | One or more persons can be selected via the + button on the right side. |
| Data Contributor(s)* | Person(s) contributed to the data or/and helped to collect the data. | One or more persons can be selected via the + button on the right side. |
| Full name* | Fullname of the Data Creator, Data Onwer and Data Contributor respectively (e.g. John Doe). Name format: Given Family | Free text entry |
| Email* | Email of the Data Creator, Data Onwer and Data Contributor respectively (e.g. john@doe.com). | Free text entry |
| Institute* | Affiliation of the Data Creator, Data Onwer and Data Contributor respectively (e.g. Max Planck Institute for Biogeochemistry). | Free text entry |
| Street | Street of the respective contact address. | Free text entry |
| Zipcode | Postal code of the contact address. | Free text entry |
| City | City of the contact address. | Free text entry |
| Country | Country of the contact address. | Dropdown menu |
| Dataset Method Specification* | Provides a documentation of the procedures followed to produce any object in the dataset to be uploaded to the ATTO data portal. These shall include information about procedure steps, software used within individual steps and source data. | Free text entry |
| Dataset Sampling Specification* | Allows for a text-based/human readable description of the actual sampling procedures used within the dataset collection. This element shall include information about dataset lineage. | Free text entry |
| Dataset Sampling Equipment Info* | Provides information about any instruments used in the data collection or quality control and quality assurance. The description should include vendor, model number, optional equipment, etc. | Free text entry |
| Data Processing Level* | Processing level of the data to be uploaded to the ATTO data portal. E.g. Level 1B for unit processed data according to the NASA data processing level standards or Level 2A for processed and aggregated data according to the AmeriFlux. | Free text entry |
| Data Processing Level Standards* | Processing level standards used, e.g. NASA or AmeriFlux and European Fluxes networks. | Free text entry |
|Data Collection Layer* | Information if the data were collected above ground, below ground or in water. | Dropdown menu |
| Layer Start | Start height/depth of layer in cm. | Free text entry |
| Layer End | End height/depth of layer in cm | Free text entry |
| Start Date* | Start date of the data/time series. | Calendar |
| End Date | End date of the data/time series. | Calendar |
| Temporal Resolution | Information about the temporal resolution of the data/time series e.g. 1 min, monthly. | Free text entry |
| Number Of Parameters | Information about the number of parameters in the dataset. | Numbers |
| Location* | Information about the location at the ATTO site where measurements were taken. Please use the common name, which is also given in the general map provided by the coordinators (e.g. Tall Tower, Walk-Up Tower, Triangular Mast, River, Tree(s), Soil, Other). | Dropdown menu |
| Location Other | In case "Other" is selected in the field "Location", please enter here the name and/or coordinates of the location (e.g. Tall Tower (S 02 08.756 W 059 00.335)). | Free text entry |
| Abbreviation(s)* | Abbreviations used in the dataset to be uploaded to the ATTO data portal (e.g. m for meters, t for tonnes). | Free text entry; More than one variable can be selected via the + button on the right side. |
| Description | Long-form of the abbreviations used in the dataset to be uploaded to the ATTO data portal (e.g. meters, tonnes). | Free text entry; More than one variable can be selected via the + button on the right side. |
| Data Quality* | Quality assurance - has the dataset undergone any quality checks? This is important for scientists interested in using the data for further analysis. | Multiple fields |
| Check Performed* | Has the dataset undergone any quality checks? If yes, please click checkbox. | Checkbox |
| Issues* | Please mention the inconsistencies or errors present in the dataset to be uploaded to the ATTO data portal.| Free text entry |
| Curation Info | Information about data curation. | Free text entry |
| Plot Info | In case the dataset is based on a plot experiment, please insert additional information here. | Checkbox on the right side in the header. |
| Total Plots | Total number of plots the dataset is based on. | Numbers |
| Plot(s) * |||
| Plot Size | Plotsize in sqm. | Free text entry |
| Number of Plots | Number of plots of particular size on which dataset is based. | Numbers |
| Sub Plots | In case the experiment contains subplots, please insert additional information here. | Checkbox on the right side in the header. |
| Subplot Size | Subplotsize in sqm. | Free text entry |
| Number of Subplots | Number of subplots of particular size on which dataset is based. | Numbers |
| Software* | Information on the software used for dataset creation, quality check and assurance.||
| Application(s) Name* | Name of the software used for dataset creation, quality check and assurance. | Free text entry; More than one variable can be selected via the + button on the right side. |
| Version* | If applicable, version of the software. | Free text entry |
| Minor | An optional minor version number (e.g. ‘2’ in 1.2) | Free text entry |
| Modifier | Unconstrained text specifying status & optional number, e.g. ‘beta’, ‘alpha’, ‘internal’. If missing, release status is assumed. | Free text entry |
| Date Issued | Date of software version release. | Calendar |
| Availability* |||
| Company Name | Name of the Software developer. | Free text entry |
| URL | URL of the Software developer. | Free text entry |
| Additional Info || Checkbox on the right side in the header. |
| Related Dataset | Provide information if any additional related datasets where used to create this dataset, if applicable. | Free text entry |
| Dataset Level Additional Metadata | Provide additional Metadata for the dataset when required and not listed above. | Free text entry |
| Environmental Level Metadata |||
| Spatial Coverage* | Provide information on the spatial coverage of the dataset to be uploaded to the ATTO data portal, e.g. Local; Regional; National; Continental; Global. | Dropdown menu |
| Georeference Source | Source used for georeferencing such as gazetter, online resource url and name, gps type etc. | Free text entry |
| Georeference Remarks | Remarks related to georeferencing. | Free text entry |
| GeoLocation(s)* ||More than one variable can be selected via the + button on the right side.|
| Geo Location Name* | Provide detailed information about the location at the ATTO site where measurements were taken. | Free text entry |
| Latitude* | Latitude of the location in decimals. | Free text entry |
| Longitude* | Longitude of the location in decimals. | Free text entry |
| Coordinate Reference System* | WGS 84; UTM Zone 38 North ETRS89 etc. | Dropdown menu |
| Precision | How precise is the location Lat/Long reading? | Free text entry |
| Altitude | Altitude of the location in metres. | Free text entry |
| Depth | If aquatic then depth of the location. | Free text entry |
| Slope | Angle of the slope. | Free text entry |
| Aspect | Direction of the slope. | Dropdown menu |
| Habitat | Habitat info of the location. | Free text entry |
| Remarks || Checkbox on the right side in the header. |
| Environmental Level Additional Metadata | Additional environmental metadata that you think is not covered in this schema. | Free text entry |
| Published In* |||
| DOI | If data are already published in a repository or in the context of a paper, please insert here the respective DOI. e.g. 10.17871/atto_xxxx | Free text entry; More than one variable can be selected via the + button on the right side. |
| Project* |||
| Project Title | Name of the project for which the dataset is collected. A project can have many datasets with different dataset titles. | Free text entry |
| Funder(s)* | Information about the funder(s) of the Project e.g. BMBF, INPA. | More than one variable can be selected via the + button on the right side. |
| Funder Identifier | Uniquely identifies a funding entity, according to various types. | Free text entry |
| Award Number | The code assigned by the funder to a sponsored award (grant). | Free text entry |
| Award Title | The human readable title of the award (grant). | Free text entry |
||||

> `Note:` The order of the metadata variables in this table are according to the order in the metadata form on the ATTO data portal.
